<!DOCTYPE html>
<!--suppress ELSpecValidationInJSP -->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:b="http://butterfaces.org/components">
<h:head/>
<body class="m-5">
<h:outputStylesheet library="css" name="theme.css"/>


<div class="jumbotron">
    <h1 class="display-3">New card</h1>
    <p class="lead">This page allows you to generate a new card for printing purpose</p>
    <hr class="my-4"/>
    <p class="lead">Simply check the generated output and press the download button at the end of the page</p>
    <p class="lead">The generated zip file will include everything needed to create a new card!</p>
    <b:commandLink id="input"
                   value="Refresh"
                   glyphicon="glyphicon glyphicon-thumbs-up glyphicon-lg"
                   styleClass="btn btn-primary"
                   ajaxDisableLinkOnRequest="true"
                   ajaxShowWaitingDotsOnRequest="true"
                   ajaxHideGlyphiconOnRequest="true"
                   ajaxDisableRenderRegionsOnRequest="true"
                   ajaxProcessingGlyphicon="fa fa-refresh"
                   action="#{NewTokenController.regenerate()}"
                   rendered="true">
        <f:ajax render="clicks"/>
    </b:commandLink>
</div>
<h:form id="formId">
    <h:panelGroup id="clicks" layout="block">

        <div class="card text-white bg-primary mb-3">
            <div class="card-header">Token id</div>
            <div class="card-body">
                <h4 class="card-title">Base</h4>
                <p class="card-text">#{NewTokenController.tokenId.base}</p>
                <h4 class="card-title">Check</h4>
                <p class="card-text">#{NewTokenController.tokenId.check}</p>
                <h4 class="card-title">Result</h4>
                <p class="card-text">#{NewTokenController.tokenId.readable}</p>
            </div>
        </div>

        <div class="card text-white bg-primary mb-3">
            <div class="card-header">Security number</div>
            <div class="card-body">
                <h4 class="card-title">Base</h4>
                <p class="card-text">#{NewTokenController.securityNumber.base}</p>
                <h4 class="card-title">Check</h4>
                <p class="card-text">#{NewTokenController.securityNumber.check}</p>
                <h4 class="card-title">Result</h4>
                <p class="card-text">#{NewTokenController.securityNumber.readable}</p>
            </div>
        </div>

        <div class="card text-white bg-primary mb-3">
            <div class="card-header">Image</div>
            <div class="card-body">
                <img src="#{NewTokenController.image}" width="100%"/>
            </div>
        </div>

    </h:panelGroup>


    <b:activateLibraries/>
</h:form>
</body>
</html>